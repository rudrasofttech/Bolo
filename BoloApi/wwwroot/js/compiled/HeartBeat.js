"use strict"; class HeartBeat extends React.Component { constructor(t) { super(t); let e = !0; null === localStorage.getItem("token") && (e = !1), this.state = { loading: !1, loggedin: e, token: null == localStorage.getItem("token") ? "" : localStorage.getItem("token"), activity: void 0 === this.props.activity ? 1 : this.props.activity, interval: void 0 === this.props.interval ? 3e3 : this.props.interval }, this.pulseinterval = null, this.sendHeartbeat = this.sendHeartbeat.bind(this) } componentDidMount() { this.sendHeartbeat(), null === this.pulseinterval && (this.pulseinterval = setInterval(this.sendHeartbeat, this.state.interval)) } componentWillUnmount() { null !== this.pulseinterval && clearInterval(this.pulseinterval) } sendHeartbeat() { this.state.loggedin && fetch("//" + window.location.host + "/api/Members/savepulse?s=" + this.state.activity, { method: "get", headers: { Authorization: "Bearer " + localStorage.getItem("token") } }).then(t => { }) } render() { return null } }