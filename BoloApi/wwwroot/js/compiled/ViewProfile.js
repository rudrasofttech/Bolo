"use strict"; class ViewProfile extends React.Component { constructor(e) { super(e); let t = !0; null === localStorage.getItem("token") && (t = !1), this.state = { loading: !1, loggedin: t, token: null == localStorage.getItem("token") ? "" : localStorage.getItem("token"), profile: void 0 === this.props.profile ? null : this.props.profile } } componentDidMount() { } componentDidUpdate(e, t) { } static getDerivedStateFromProps(e, t) { return e.channel !== t.channel || e.profileid !== t.profileid || e.profile !== t.profile ? { channel: e.channel, profileid: e.profileid, profile: void 0 === e.profile ? null : e.profile } : null } processString(e) { var t = 0; return function (r) { return e && Array.isArray(e) && e.length ? (e.forEach(function (e) { return r = function e(r, l) { if (!r.fn || "function" != typeof r.fn) return l; if (!(r.regex && r.regex instanceof RegExp)) return l; if ("string" == typeof l) { for (var n = r.regex, a = null, i = []; null !== (a = n.exec(l));) { var c = a.index, o = a[0]; i.push(l.substring(0, c)), i.push(r.fn(++t, a)), l = l.substring(c + o.length, l.length + 1), n.lastIndex = 0 } return i.push(l), i } return Array.isArray(l) ? l.map(function (t) { return e(r, t) }) : l }(e, r) }), r) : r } } renderText(e) { let t = e.split(/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim); for (let e = 1; e < t.length; e += 2)t[e] = React.createElement("a", { key: "link" + e, href: t[e] }, t[e].split("\n").map((e, t) => React.createElement(React.Fragment, { key: t }, e, React.createElement("br", null)))); return t } render() { if (null !== this.state.profile) { var e = new Date; let r = React.createElement(React.Fragment, null, React.createElement("img", { src: "/images/nopic.jpg", style: { width: "50px" }, className: "rounded mx-auto d-block img-fluid", alt: "" })); "" !== this.state.profile.pic && (r = React.createElement(React.Fragment, null, React.createElement("img", { src: this.state.profile.pic, className: "rounded mx-auto d-block img-fluid", alt: "" }))); let l = this.state.profile.birthYear > 0 ? React.createElement(React.Fragment, null, e.getFullYear() - this.state.profile.birthYear, " Years Old") : null, n = this.state.profile.city + " " + this.state.profile.state + " " + this.state.profile.country; "" !== n.trim() && (n = "From " + n); let a = [{ regex: /(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim, fn: (e, t) => React.createElement("span", { key: e }, React.createElement("a", { target: "_blank", href: `${t[1]}://${t[2]}.${t[3]}${t[4]}` }, t[2], ".", t[3], t[4]), t[5]) }, { regex: /\n/gim, fn: (e, t) => React.createElement("br", { key: e }) }, { regex: /(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim, fn: (e, t) => React.createElement("span", { key: e }, React.createElement("a", { target: "_blank", href: `http://${t[1]}.${t[2]}${t[3]}` }, t[1], ".", t[2], t[3]), t[4]) }]; var t = React.createElement("p", null, this.processString(a)(this.state.profile.bio)); return React.createElement("div", { className: "text-center" }, r, React.createElement("h4", null, this.state.profile.name), React.createElement("p", null, t), React.createElement("p", null, React.createElement("em", null, l, " ", n))) } return null } }