"use strict"; function transformMessage(e, t) { try { const t = /([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi; let c; for (var r = []; null !== (c = t.exec(e));) { for (link of (isthere = !1, r)) if (link === c[0].trim()) { isthere = !0; break } isthere || r.push(c[0].trim()) } for (l of r) { if (/(http(s?):)([\/|.|\w|\s|-])*\.(?:jpg|gif|png|jpeg)/g.test(l)) { let t = "<a href='" + l + "' target='_blank'><img src='" + l + "' class='img-fluid d-block mt-1 mb-1 img-thumbnail' style='width:300px; '/></a>"; e = e.replaceAllOccurence(l, t, !0) } else { let t = "<a href='" + l + "' target='_blank'>" + l + "</a>"; e = e.replaceAllOccurence(l, t, !0) } } } catch (e) { console.log(e) } return e } String.prototype.replaceAllOccurence = function (e, t, l) { return this.replace(new RegExp(e.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g, "\\$&"), l ? "gi" : "g"), "string" == typeof t ? t.replace(/\$/g, "$$$$") : t) };